{% extends 'vacay/base.html' %}
{% block title %}Update Profile{% endblock %}
{% block body %}

<br>
<br>
<br>

<style>

html, body{
  background: url("/static/vacay/images/profilebg.png") no-repeat center center fixed;
  background-size:cover;
}

.info p {
  text-align:center;
  color: #999;
  text-transform:none;
  font-weight:600;
  font-size:15px;
  margin-top:2px
}

.info i {
  color:#F6AA93;
}

form h1 {
  font-size: 25px;
  padding: 19px 22px;
  border-radius: 5px 5px 0px 0px;
  margin: auto;
  color: #F7D479;
  text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7);
  text-align:center;
  font-weight:600;
  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;
}

#edit {
  border-radius: 5px;
  max-width:100%;
  width:auto;
  height:auto;
  margin-bottom: auto;
  margin-left:auto;
  margin-right:auto;
  margin-top:0px;
  background:linear-gradient(0deg,rgba(100,50,250,0.0),rgba(100,50,250,0.4),rgba(100,50,250,0.4),rgba(100,50,250,0.4),rgba(100,50,250,0.4),rgba(50,100,250,0.0));
  opacity:0.9;
  overflow: hidden;
  <!--box-shadow: 25px 25px 0 rgba(0, 0, 0, 0.2);-->
}


p span {
  color: #F00;
}

p {
  margin: 0px;
  font-weight: 600;
  line-height: 2;
  color:#fff;
}

h1 {
  text-align:center;
  color: #666;
  text-shadow: 1px 1px 0px #FFF;
  margin:50px 0px 0px 0px
}

input {
  border-radius: 0px 50px 50px 0px;
  border: 1px solid #eee;
  margin-bottom: 15px;
  margin-right:auto;
  width: 92%;
  height: 42px;
  float: middle;
  padding: 0px 15px;
  opacity: 0.8;
  color:black;
}

select {
  border-radius: 0px 50px 50px 0px;
  border: 1px solid #eee;
  margin-bottom: 15px;
  margin-right:auto;
  width: 92%;
  height: 42px;
  float: middle;
  padding: 0px 15px;
  opacity: 0.8;
  color:black;
}

a {
  text-decoration:inherit
}

textarea {
  border-radius: 0px 5px 5px 0px;
  border: 1px solid #EEE;
  margin: 0;
  width: 75%;
  height: 130px;
  float: left;
  padding: 15px 15px;
  opacity: 0.8;
  color:black;
}

.form-group {
  overflow: hidden;
  width:100%;
}

.icon-case {
  width: 8%;
  float: left;
  border-radius: 50px 0px 0px 50px;
  background:green;
  height:42px;
  position: relative;
  text-align: center;
  line-height:40px;
  padding-top:11px;
}

i {
  color:yellow;
}

.contentform {
  float:middle;
  margin:auto;
}

.bouton-update{
  background-color: #845801;
  color: #FFF;
  text-align: center;
  width: 100%;

  margin-bottom:10%;
  border:0;
  padding: 12px 18px;
  border-radius: 50px 50px 50px 50px;
  cursor: pointer;
  font-size: 16px;
}

.formcontent {
  width:100%;
  float:middle;
  margin:auto;
  box-sizing: border-box;
}

.validation {
  display:none;
  margin: 0 0 10px;
  font-weight:400;
  font-size:13px;
  color: #DE5959;
}

#sendmessage {
  border:1px solid #fff;
  display:none;
  text-align:center;
  margin:10px 0;
  font-weight:600;
  margin-bottom:30px;
  background-color: #EBF6E0;
  color: #5F9025;
  border: 1px solid #B3DC82;
  padding: 13px 40px 13px 18px;
  border-radius: 3px;
  box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.03);
}

#sendmessage.show,.show  {
  display:block;
}

th {color:white;}

td {text-align:middle;}

#container {
    top:400px;
    width: 480px;
    height: 360px;
    position:fixed;
    z-index:100;
    left:50%;
    display:none;
    transform:translate(-50%, -50%);
    border: 10px #333 solid;
}

label.cameraButton {
  display: inline-block;
  /* Styles to make it look like a button */
  padding-top: 0.6em;
  padding-bottom: 0.3em;
  padding-left: 0.5em;
  padding-right: 0.5em;
  border: 2px solid #666;
  border-color: #EEE #CCC #CCC #EEE;
  border-radius:50px 50px 50px 50px;
  font-size:16px;
  color:white;
  width:50%;
  height:45px;
  text-align:middle;
  background-color: green;
}

/* Look like a clicked/depressed button */
label.cameraButton:active {
  border-color: #CCC #EEE #EEE #CCC;
}

/* This is the part that actually hides the 'Choose file' text box for camera inputs */
label.cameraButton input[accept*="image"] {
  display: none;
}

#city {
  border-radius: 0px 0px 0px 0px;
  border: 1px solid #eee;
  width: 80%;
  height: 42px;
  padding: 0px 15px;
  opacity: 0.8;
  color:black;
  float:left;
}

#map {
  border-radius: 0px 0px 0px 0px;
  border: 0px solid #eee;
  width: 12%;
  height: 42px;
  padding: 0px 15px;
  opacity: 0.8;
  color:black;
  float:left;
  background-image: url(/static/vacay/images/loc.png); /* 16px x 16px */
  background-color: transparent; /* make the button transparent */
  background-repeat: no-repeat;  /* make the background image appear only once */
  background-position: 0px 0px;  /*
}

label input {
  display: none;/* <-- hide the default checkbox */
}
label span {/* <-- style the artificial checkbox */
  height: 25px;
  width: 25px;
  margin-right:20px;
  border: 1px solid white;
  display: inline-block;
  position: relative;
}
[type=checkbox]:checked + span:before {/* <-- style its checked state..with a ticked icon */
  content: '\2714';
  position: absolute;
  top: 0px;
  left: 5px;
}

#checkbox-panel {
    padding-top:10px;
}

.pan {
  max-width:500px;
  width:auto;
  height:auto;
  margin-bottom: auto;
  margin-left:auto;
  margin-right:0;
  opacity:0.9;
  overflow: hidden;
}

.pan2 {
  max-width:500px;
  width:auto;
  height:auto;
  margin-bottom: auto;
  margin-left:0;
  margin-right:auto;
  opacity:0.9;
  overflow: hidden;
}

.form-row{margin-top:5px;}

label.cameraButton {
  display: inline-block;
  /* Styles to make it look like a button */
  padding: 0.4em;
  border: 2px solid #666;
  border-color: #EEE #CCC #CCC #EEE;
  border-radius:8px;
  font-size:16px;
  color:white;
  width:250px;
  height:40px;
  text-align:middle;
  background-color: green;
}

/* Look like a clicked/depressed button */
label.cameraButton:active {
  border-color: #CCC #EEE #EEE #CCC;
}

/* This is the part that actually hides the 'Choose file' text box for camera inputs */
label.cameraButton input[accept*="video"] {
  display: none;
}

</style>

<script>
	history.pushState(null, null, location.href);
	window.onpopstate = function () {
        history.go(1);
    };
</script>

<script type="text/javascript" src="https://js.stripe.com/v2/"></script>

<script type="text/javascript">

    Stripe.setPublishableKey('pk_live_J4bQpu3jLQ7jUPfZKLAcs1WV');

    function onSubmitDo () {

      Stripe.card.createToken( document.getElementById('payment-form'), myStripeResponseHandler );

      return false;

    };
    function myStripeResponseHandler ( status, response ) {

      console.log( status );
      console.log( response );

      if ( response.error ) {
        document.getElementById('payment-error').innerHTML = response.error.message;
      } else {
        document.getElementById("cardnum").value = document.getElementById("number").value;
        document.getElementById("cardcvc").value = document.getElementById("cvc").value;
        document.getElementById("cardexpmonth").value = document.getElementById("month").value;
        document.getElementById("cardexpyear").value = document.getElementById("year").value;

        document.getElementById("number").value = "";
        document.getElementById("cvc").value = "";
        document.getElementById("month").value = "";
        document.getElementById("year").value = "";
        document.getElementById("payment-error").innerHTML = "";
        document.getElementById("payment-form").style.display = "none";
        document.getElementById("paycheck").style.display = "block";
        document.body.scrollTop = 2000;
        document.documentElement.scrollTop = 2000;
      }

   };

</script>

<meta charset="UTF-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../lib/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

{% if updated %}
	<h4><script>
		alert("Successfully updated!");
		window.location.href = "https://vacayalldays.com/home";
	</script></h4>
{% endif %}

<div id="videoFrame" style="text-align:center; box-shadow: 4px 5px 0 rgba(0, 0, 0, 0.3);
	position:fixed; left:50%; float:middle; background-color:white; border-radius:10px; padding: 10px;
	transform:translate(-50%, -50%); width:auto; z-index:300; top:300px; display:none;">
    <video id="videoresult" autobuffer  controls width="250" style="position:relative;" autoplay loop>
        <source src="{{user.video}}" id="videohere"/>
    </video>
    <img src="/static/vacay/images/cancel.png" style="width:25px; height:25px; right:5px; top:5px; position:absolute; background:white; border-radius:50%;"
         onclick="javascript:document.getElementById('videoFrame').style.display='none';">
</div>

<form action="/" method="POST" id="payment-form" onsubmit="return onSubmitDo()" style="font-size:16px; font-weight:300; color: black; box-shadow: 0px 0px 100px rgba(0, 0, 0, 1.0);
	position:fixed; left:50%; float:middle; background-color:white; border-radius:10px; padding: 8px 15px 15px 15px;
	transform:translate(-50%, -50%); width:350px; z-index:200; top:350px; display:none;">
    {% csrf_token %}
    <img src="/static/vacay/images/cancel.png" style="width:25px; height:25px; float:right; margin-top:5px;" onclick="javascript:document.getElementById('payment-form').style.display='none';">
    <img src="/static/vacay/images/creditcardicon.png" style="width:50%; margin-top:5px; margin-bottom:5px;">
    <div style="width:100%; padding-top:8px;">
        <label style="font-weight:400; color:#0066cc;">Owner Name </label>
        <input type="text" size="20" data-stripe="name" id="name" style="width:310px; border-radius:3px; margin-left:10px;" value="{{user.first_name}} {{user.last_name}}"/><br>

        <label style="font-weight:400; color:#0066cc; margin-top:5px;">Card Number </label>
        <input type="text" size="20" data-stripe="number" id="number" style="width:310px; border-radius:3px; margin-left:10px;" value="{{user.card_number}}"/><br>

        <label style="font-weight:400; color:#0066cc;">Expiration</label>
        <input type="text" size="2" data-stripe="exp-month" id="month" placeholder="MM" style="width:auto; border-radius:3px; margin-top:5px; margin-left:10px; margin-right:10px;" value="{{user.card_expmonth}}"/>/
        <input type="text" size="4" data-stripe="exp-year" id="year" placeholder="YY" style="width:auto; border-radius:3px; margin-top:5px; margin-left:10px;" value="{{user.card_expyear}}"/><br>

        <label style="font-weight:400; color:#0066cc;">CVC </label>
        <input type="text" size="4" data-stripe="cvc" id="cvc" style="width:250px; border-radius:3px; margin-top:5px; margin-left:10px;" value="{{user.card_cvc}}"/>
    </div>
    <span style='color: red' id='payment-error'></span>

    <button type="submit" formaction="javascript:getToken();" style="margin-top:15px; width:100%; text-align:center; padding:8px; border:0px;
            border-radius:5px; background:#0066cc; color:white; font-size:14px;">Submit</button>
</form>

<img src="/static/vacay/images/processing.gif" class="glyphicon glyphicon-fire" aria-hidden="true" style="position:fixed; left:50%; float:middle;
	transform:translate(-50%, -50%); width:80px; z-index:100; top:120px; display: none;" id="gif">

<form id="edit" action="{% url 'update_profile' %}" method="post" enctype="multipart/form-data">
	  {% csrf_token %}
	    <h1 style="font-size:25px; font-weight:800; margin-bottom:30px;
        color: #ffe680; text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7); text-align:center; width:100%;">Complete Your Profile</h1>

        <div class="container-fluid" style="margin-top:2%;">
            <div class="row">
                <div class="col-sm-6">
                    <div class="pan">
                        <div class="contentform">
                            <div class="formcontent">
                                <div class="form-group" style="margin-bottom:20px;">
                                    <center>
                                        <div style="width:80%; height:auto; box-shadow:0px 0px 15px rgba(0,0,0,0.5); padding:10px;
                                                margin-top:10px; margin-bottom:10px; border-radius: 50%; text-align:center;">
                                            <img src="{{user.photo_url}}" style="max-width:160px; width:auto; height:auto; max-height:200px; border-radius: 50%;" id="output">
                                        </div>
                                    </center>
                                    <center>
                                        <div style="font-size:22px; font-weight:600; color:white;">{{user.first_name}} {{user.last_name}}</div>
                                        <div style="font-size:18px; color:white;">{{user.email}}</div>
                                        <div style="font-size:16px; color:white; text-align:left; white-space: pre-line;
                                            margin-top:15px; padding: 0px 15px 15px 15px; display:inline-block;">
                                            {{user.survey}}
                                        </div>
                                    </center>
                                </div>

                                <div class="form-group">
                                    <p>Current Job <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-briefcase"></i></span>
                                    <input type="text" name="job" data-rule="required" data-msg="" required id="job" value="{{user.job}}"/>
                                    <div class="validation"></div>
                                </div>
                                <div class="form-group">
                                    <p>City <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-location-arrow"></i></span>
                                    <input type="text" name="city" data-rule="required" data-msg="" required id="city" value="{{user.address}}"/>
                                    <input type="button" name="map" id="map" onclick="javascript:window.location.href = '/tomap';" readonly>
                                    <div class="validation"></div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="pan2">
                        <div class="contentform">
                            <div class="formcontent">
                                <div class="form-group">
                                    <p>Age <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-child"></i></span>
                                    <select name="age" required id="age">
                                        <option value="{{user.age}}">{{user.age}}</option>
                                        <option value="21-25">21-25</option>
                                        <option value="26-30">26-30</option>
                                        <option value="31-35">31-35</option>
                                        <option value="36-40">36-40</option>
                                        <option value="41-45">41-45</option>
                                        <option value="46-50">46-50</option>
                                        <option value="50+">50+</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <p>Gender <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-female"></i></span>
                                    <select name="gender" required id="gender">
                                        {% if user.gender == 'male' %}<option value="Male">Male</option>
                                        {% elif user.gender == 'female' %}<option value="Female">Female</option>
                                        {% endif %}
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <p>Dating Preference <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-male"></i></span>
                                    <select name="datingpref" required id="datingpref">
                                        <option value="{{user.datingpref}}">{{user.datingpref}}</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Both">Both</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <p>Education <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-mortar-board"></i></span>
                                    <input type="text" name="education" data-rule="required" data-msg="" required id="education" value="{{user.education}}"/>
                                    <div class="validation"></div>
                                </div>
                                <div class="form-group">
                                    <p>Interests <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-fire"></i></span>
                                    <input type="text" name="interests" data-rule="required" data-msg="" id="interests" value="" onclick="show_panel()" placeholder="Click here to select your interests" readonly/>
                                </div>
                                <input type="hidden" name="intrsts" value="{{user.interests}}">
                                <div class="form-group" style="display:none;" id="checkbox-panel">
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="run" name="run" value="" hidden onchange="eventrun()">
                                        <span></span>Run
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="run-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="walk" name="walk" value="" hidden onchange="eventwalk()">
                                            <span></span>'I walk because it burns fat'runs
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event30()">
                                            <input type='checkbox' id="30mins" name="30mins" value="" hidden>
                                            <span></span>30 minutes
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event1m()">
                                            <input type='checkbox' id="1mile" name="1mile" value="" hidden>
                                            <span></span>1 mile
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event5m()">
                                            <input type='checkbox' id="5miles" name="5miles" value="" hidden>
                                            <span></span>5 miles
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event10m()">
                                            <input type='checkbox' id="10miles" name="10miles" value="" hidden>
                                            <span></span>10 miles
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="golf" value="" name="golf" hidden onchange="eventgolf()">
                                        <span></span>Golf
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="golf-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="beginner" name="beginner" value="" hidden onchange="eventbeginner()">
                                            <span></span>Beginner
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventintermediate()">
                                            <input type='checkbox' id="intermediate" name="intermediate" value="" hidden>
                                            <span></span>Intermediate
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventadvanced()">
                                            <input type='checkbox' id="advanced" name="advanced" value="" hidden>
                                            <span></span>Advanced
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventscramble()">
                                            <input type='checkbox' id="scramble" name="scramble" value="" hidden>
                                            <span></span>Scramble Secret Weapon
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="tennis" name="tennis" value="" hidden onchange="eventtennis()">
                                        <span></span>Tennis
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="tennis-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="3p" name="3p" value="" hidden onchange="event3p()">
                                            <span></span>3.0+
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event4p()">
                                            <input type='checkbox' id="4p" name="4p" value="" hidden>
                                            <span></span>4.0+
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event5p()">
                                            <input type='checkbox' id="5p" name="5p" value="" hidden>
                                            <span></span>5.0+
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="event6p()">
                                            <input type='checkbox' id="6p" name="6p" value="" hidden>
                                            <span></span>6.0+
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventwtf()">
                                            <input type='checkbox' id="wtf" name="wtf" value="" hidden>
                                            <span></span>WTF does that mean
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="ski" name="ski" value="" hidden onchange="eventski()">
                                        <span></span>Ski & Snowboard
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="ski-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="hot" name="hot" value="" hidden onchange="eventhot()">
                                            <span></span>Hot Chocolate & Lodge'skier'
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventbunny()">
                                            <input type='checkbox' id="bunny" name="bunny" value="" hidden>
                                            <span></span>Bunny Slopes
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventgreens()">
                                            <input type='checkbox' id="greens" name="greens" value="" hidden>
                                            <span></span>Greens
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventblues()">
                                            <input type='checkbox' id="blues" name="blues" value="" hidden>
                                            <span></span>Blues
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventblacks()">
                                            <input type='checkbox' id="blacks" name="blacks" value="" hidden>
                                            <span></span>Blacks
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventdouble()">
                                            <input type='checkbox' id="double" name="double" value="" hidden>
                                            <span></span>Double Black Diamonds
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventnotafraid()">
                                            <input type='checkbox' id="notafraid" name="notafraid" value="" hidden>
                                            <span></span>I'm not afraid of death
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="biking" name="biking" value="" hidden onchange="eventbiking()">
                                        <span></span>Biking
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="biking-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="short" name="short" value="" hidden onchange="eventshort()">
                                            <span></span>Short Rides
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventlong()">
                                            <input type='checkbox' id="long" name="long" value="" hidden>
                                            <span></span>Long Rides
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventmountain()">
                                            <input type='checkbox' id="mountain" name="mountain" value="" hidden>
                                            <span></span>Mountain Rides
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventroad()">
                                            <input type='checkbox' id="road" name="road" value="" hidden>
                                            <span></span>Road Rides
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="fishing" name="fishing" value="" hidden onchange="eventfishing()">
                                        <span></span>Fishing
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="fishing-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="fly" name="fly" value="" hidden onchange="eventfly()">
                                            <span></span>Fly Fishing
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventlake()">
                                            <input type='checkbox' id="lake" name="lake" value="" hidden>
                                            <span></span>Lake Fishing
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventocean()">
                                            <input type='checkbox' id="ocean" name="ocean" value="" hidden>
                                            <span></span>Ocean Fishing
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="surfing" name="surfing" value="" hidden onchange="eventsurfing()">
                                        <span></span>Surfing/Kitesurfing
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="surfing-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="oceansurfing" name="oceansurfing" value="" hidden onchange="eventoceansurfing()">
                                            <span></span>Ocean Surfing
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventlakesurfing()">
                                            <input type='checkbox' id="lakesurfing" name="lakesurfing" value="" hidden>
                                            <span></span>Lake Surfing
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventkitesurfing()">
                                            <input type='checkbox' id="kitesurfing" name="kitesurfing" value="" hidden>
                                            <span></span>Kitesurfing
                                        </label><br>
                                    </div>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="exploring" name="exploring" value="" hidden onchange="eventexploring()">
                                        <span></span>Exploring
                                    </label><br>
                                    <div class="form-group" style="margin-left:20px; display:none;" id="exploring-panel">
                                        <label style="color:white; font-size:16px; margin-left:50px;">
                                            <input type='checkbox' id="museums" name="museums" value="" hidden onchange="eventmuseums()">
                                            <span></span>Museums
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventcitytours()">
                                            <input type='checkbox' id="citytours" name="citytours" value="" hidden>
                                            <span></span>City Tours
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventnature()">
                                            <input type='checkbox' id="nature" name="nature" value="" hidden>
                                            <span></span>Nature
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventart()">
                                            <input type='checkbox' id="art" name="art" value="" hidden>
                                            <span></span>Art
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventconcerts()">
                                            <input type='checkbox' id="concerts" name="concerts" value="" hidden>
                                            <span></span>Concerts
                                        </label><br>
                                        <label style="color:white; font-size:16px; margin-left:50px;" onchange="eventlectures()">
                                            <input type='checkbox' id="lectures" name="lectures" value="" hidden>
                                            <span></span>Lectures
                                        </label>
                                    </div>
                                </div>
                                <input type="hidden" id="common" value="{% if common %}{{common}}{% else %}{% endif %}">

                                <div class="form-group">
                                    <p>Info <span>*</span></p>
                                    <span class="icon-case"><i class="fa fa-info"></i></span>
                                    <input type="text" name="info" data-rule="required" data-msg="" id="info" value="" onclick="show_info_panel()" placeholder="Click here to select your info" readonly/>
                                </div>
                                <input type="hidden" name="inf" value="{{user.relationship}}">
                                <div class="form-group" style="display:none;" id="checkbox-info">
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="single" name="single" value="" hidden onchange="eventsingle()">
                                        <span></span>Single
                                    </label><br>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="relationship" name="relationship" value="" hidden onchange="eventrelationship()">
                                        <span></span>Relationship
                                    </label><br>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="newborn" name="newborn" value="" hidden onchange="eventnewborn()">
                                        <span></span>Have Kids (Newborn - 5)
                                    </label><br>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="kids" name="kids" value="" hidden onchange="eventkids()">
                                        <span></span>Have Kids (6+)
                                    </label><br>
                                    <label style="color:white; font-size:16px; margin-left:30px;">
                                        <input type='checkbox' id="dogs" name="dogs" value="" hidden onchange="eventdogs()">
                                        <span></span>Have Dogs
                                    </label>
                                </div>
                                <br>

                                <p>Please tell your VaCay pals your mini-life story! <span>*</span></p>
                                <center>
                                     <div class="form-group" style="width:auto; margin-bottom:20px;">
                                         <img id="vcheck" src="/static/vacay/images/paycheck.png" style="float:right; width:25px; color:green; display:none;">
                                        <div style="width:100%; margin-top:10px;">
                                            <label class="cameraButton">Select Video File
                                                <input type="file" name="video" value="http://lorempixel.com/100/100/people/9" id="videofile" accept="video/*"/>
                                            </label>
                                        </div>
                                         <a href="javascript:void(0);" id="preview" onclick="javascript:document.getElementById('videoFrame').style.display = 'block';"
                                            style="color:white; margin:10px; display:none;">Preview</a>
                                        <label onclick="window.location='http://easyhtml5video.com/easyhtml5video-free-setup.zip';"
                                           style="color:white; font-size:16px; text-decoration:underline; margin-bottom:15px;">You can convert .mov video to .webm for web & mobile</label>
                                        <script>
                                            $(document).on("change", "#videofile", function(evt) {
                                                var $source = $('#videohere');
                                                $source[0].src = URL.createObjectURL(this.files[0]);
                                                $source.parent()[0].load();
                                                document.getElementById("vcheck").style.display = "block";
                                                document.getElementById("preview").style.display = "block";
                                            });
                                        </script>

                                    </div>
                                </center>
                                {% if user.gender == 'male' %}
                                <a href="#" onclick="javascript:document.getElementById('payment-form').style.display='block';" style="text-align:center; padding:8px 16px 8px 16px; color: #fff; font-weight:500;
                                           font-size:16px; width:100%;">
                                    <center>
                                        <img src="/static/vacay/images/paycheck.png" id="paycheck" style="width:35px; height:35px; float:right; display:none;">
                                        <img src="/static/vacay/images/creditcardicon.png" style="width:40%; margin-right:15px;">Plan for $5/month
                                    </center>
                                </a>
                                <input type="hidden" id="cardnum" name="cardnum" value="{{user.card_number}}">
                                <input type="hidden" id="cardcvc" name="cardcvc" value="{{user.card_cvc}}">
                                <input type="hidden" id="cardexpmonth" name="cardexpmonth" value="{{user.card_expmonth}}">
                                <input type="hidden" id="cardexpyear" name="cardexpyear" value="{{user.card_expyear}}">
                                {% endif %}
                                <div class="form-group" style="margin-top:10%;">
                                    <button type="submit" class="bouton-update" onclick="">Register / Update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</form>

<script>{% if user.video %}document.getElementById("preview").style.display = "block";{% endif %}</script>

<script>

    var flag = false;
    var flag2 = false;
    var job = document.getElementById('job');
    var city = document.getElementById('city');
    var age = document.getElementById('age');
    var education = document.getElementById('education');
    var info = document.getElementById("info");

    function show_panel(){
        if (flag){
            flag = false;
            document.getElementById('checkbox-panel').style.display = 'none';
            document.getElementById("interests").placeholder = "Click here to select your interests";
        }
        else if (!flag){
            flag = true;
            document.getElementById('checkbox-panel').style.display = 'block';
            document.getElementById("interests").placeholder = "Click here to close the interests' panel";
        }
    }

    function progressBar(){
        if (job.value != '' && city.value != '' && age.value != '' && education.value != ''){
            document.getElementById("gif").style.display = "block";
        }
    }

    function show_info_panel(){
        if (flag2){
            flag2 = false;
            document.getElementById('checkbox-info').style.display = 'none';
            document.getElementById("info").placeholder = "Click here to select your info";
        }
        else if (!flag2){
            flag2 = true;
            document.getElementById('checkbox-info').style.display = 'block';
            document.getElementById("info").placeholder = "Click here to close the info' panel";
        }
    }

    function post(path, params, method) {
        method = method || "post"; // Set method to post by default if not specified.

        // The rest of this code assumes you are not using a library.
        // It can be made less wordy if you use one.
        var form = document.createElement("form");
        form.setAttribute("method", method);
        form.setAttribute("action", path);

        for(var key in params) {
            if(params.hasOwnProperty(key)) {
                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("type", "hidden");
                hiddenField.setAttribute("name", key);
                hiddenField.setAttribute("value", params[key]);

                form.appendChild(hiddenField);
            }
        }

        document.body.appendChild(form);
        form.submit();
    }
</script>
<!--<script>-->
<!--// my location-->
    <!--$.get("http://ipinfo.io", function(response) {-->
        <!--document.getElementById("city").value = response.city;-->
    <!--}, "jsonp");-->
<!--</script>-->

<script>
var run = document.getElementById("run");
var golf = document.getElementById("golf");
var tennis = document.getElementById("tennis");
var ski = document.getElementById("ski");
var biking = document.getElementById("biking");
var fishing = document.getElementById("fishing");
var surfing = document.getElementById("surfing");
var exploring = document.getElementById("exploring");

var rpanel = document.getElementById("run-panel");
var rwalk = document.getElementById("walk");
var r30mins = document.getElementById("30mins");
var r1mile = document.getElementById("1mile");
var r5miles = document.getElementById("5miles");
var r10miles = document.getElementById("10miles");

var gpanel = document.getElementById("golf-panel");
var gbeginner = document.getElementById("beginner");
var gintermediate = document.getElementById("intermediate");
var gadvanced = document.getElementById("advanced");
var gscramble = document.getElementById("scramble");

var tpanel = document.getElementById("tennis-panel");
var t3p = document.getElementById("3p");
var t4p = document.getElementById("4p");
var t5p = document.getElementById("5p");
var t6p = document.getElementById("6p");
var twtf = document.getElementById("wtf");

var spanel = document.getElementById("ski-panel");
var shot = document.getElementById("hot");
var sbunny = document.getElementById("bunny");
var sgreens = document.getElementById("greens");
var sblues = document.getElementById("blues");
var sblacks = document.getElementById("blacks");
var sdouble = document.getElementById("double");
var snotafraid = document.getElementById("notafraid");

var bpanel = document.getElementById("biking-panel");
var bshort = document.getElementById("short");
var blong = document.getElementById("long");
var bmountain = document.getElementById("mountain");
var broad = document.getElementById("road");

var fpanel = document.getElementById("fishing-panel");
var ffly = document.getElementById("fly");
var flake = document.getElementById("lake");
var focean = document.getElementById("ocean");

var surpanel = document.getElementById("surfing-panel");
var surocean = document.getElementById("oceansurfing");
var surlake = document.getElementById("lakesurfing");
var kitesurfing = document.getElementById("kitesurfing");

var epanel = document.getElementById("exploring-panel");
var emuseums = document.getElementById("museums");
var ecitytours = document.getElementById("citytours");
var enature = document.getElementById("nature");
var eart = document.getElementById("art");
var econcerts = document.getElementById("concerts");
var electures = document.getElementById("lectures");

function eventrun(){
    if (run.checked){
        run.value = "Run" ;
        rpanel.style.display = "block";
    }else {
        run.value = "" ;
        rpanel.style.display = "none";
    }
}

function eventgolf(){
    if (golf.checked){
        golf.value = "Golf" ;
        gpanel.style.display = "block";
    }else {
        golf.value = "" ;
        gpanel.style.display = "none";
    }
}

function eventtennis(){
    if (tennis.checked){
        tennis.value = "Tennis" ;
        tpanel.style.display = "block";
    }else {
        tennis.value = "" ;
        tpanel.style.display = "none";
    }
}

function eventski(){
    if (ski.checked){
        ski.value = "Ski & Snowboard" ;
        spanel.style.display = "block";
    }else {
        ski.value = "" ;
        spanel.style.display = "none";
    }
}

function eventbiking(){
    if (biking.checked){
        biking.value = "Biking" ;
        bpanel.style.display = "block";
    }else {
        biking.value = "" ;
        bpanel.style.display = "none";
    }
}

function eventfishing(){
    if (fishing.checked){
        fishing.value = "Fishing" ;
        fpanel.style.display = "block";
    }else {
        fishing.value = "" ;
        fpanel.style.display = "none";
    }
}

function eventsurfing(){
    if (surfing.checked){
        surfing.value = "Surfing/Kitesurfing" ;
        surpanel.style.display = "block";
    }else {
        surfing.value = "" ;
        surpanel.style.display = "none";
    }
}

function eventexploring(){
    if (exploring.checked){
        exploring.value = "Exploring" ;
        epanel.style.display = "block";
    }else {
        exploring.value = "" ;
        epanel.style.display = "none";
    }
}

// Sub Items

function eventwalk(){
    if (rwalk.checked){
        rwalk.value = "(I walk because it burns fat)runs" ;
    }else {
        rwalk.value = "" ;
    }
}

function event30(){
    if (r30mins.checked){
        r30mins.value = "30 minutes" ;
    }else {
        r30mins.value = "" ;
    }
}

function event1m(){
    if (r1mile.checked){
        r1mile.value = "1 mile" ;
    }else {
        r1mile.value = "" ;
    }
}

function event5m(){
    if (r5miles.checked){
        r5miles.value = "5 miles" ;
    }else {
        r5miles.value = "" ;
    }
}

function event10m(){
    if (r10miles.checked){
        r10miles.value = "10 miles" ;
    }else {
        r10miles.value = "" ;
    }
}

function eventbeginner(){
    if (gbeginner.checked){
        gbeginner.value = "Beginner" ;
    }else {
        gbeginner.value = "" ;
    }
}

function eventintermediate(){
    if (gintermediate.checked){
        gintermediate.value = "Intermediate" ;
    }else {
        gintermediate.value = "" ;
    }
}

function eventadvanced(){
    if (gadvanced.checked){
        gadvanced.value = "Advanced" ;
    }else {
        gadvanced.value = "" ;
    }
}

function eventscramble(){
    if (gscramble.checked){
        gscramble.value = "Scramble Secret Weapon" ;
    }else {
        gscramble.value = "" ;
    }
}

function event3p(){
    if (t3p.checked){
        t3p.value = "3.0+" ;
    }else {
        t3p.value = "" ;
    }
}

function event4p(){
    if (t4p.checked){
        t4p.value = "4.0+" ;
    }else {
        t4p.value = "" ;
    }
}

function event5p(){
    if (t5p.checked){
        t5p.value = "5.0+" ;
    }else {
        t5p.value = "" ;
    }
}

function event6p(){
    if (t6p.checked){
        t6p.value = "6.0+" ;
    }else {
        t6p.value = "" ;
    }
}

function eventwtf(){
    if (twtf.checked){
        twtf.value = "WTF does that mean" ;
    }else {
        twtf.value = "" ;
    }
}

function eventhot(){
    if (shot.checked){
        shot.value = "Hot Chocolate & Lodge(skier)" ;
    }else {
        shot.value = "" ;
    }
}

function eventbunny(){
    if (sbunny.checked){
        sbunny.value = "Bunny Slopes" ;
    }else {
        sbunny.value = "" ;
    }
}

function eventgreens(){
    if (sgreens.checked){
        sgreens.value = "Greens" ;
    }else {
        sgreens.value = "" ;
    }
}

function eventblues(){
    if (sblues.checked){
        sblues.value = "Blues" ;
    }else {
        sblues.value = "" ;
    }
}

function eventblacks(){
    if (sblacks.checked){
        sblacks.value = "Blacks" ;
    }else {
        sblacks.value = "" ;
    }
}

function eventdouble(){
    if (sdouble.checked){
        sdouble.value = "Double Black Diamonds" ;
    }else {
        sdouble.value = "" ;
    }
}

function eventnotafraid(){
    if (snotafraid.checked){
        snotafraid.value = "I am not afraid of death" ;
    }else {
        snotafraid.value = "" ;
    }
}

function eventshort(){
    if (bshort.checked){
        bshort.value = "Short Rides" ;
    }else {
        bshort.value = "" ;
    }
}

function eventlong(){
    if (blong.checked){
        blong.value = "Long Rides" ;
    }else {
        blong.value = "" ;
    }
}

function eventmountain(){
    if (bmountain.checked){
        bmountain.value = "Mountain Rides" ;
    }else {
        bmountain.value = "" ;
    }
}

function eventroad(){
    if (broad.checked){
        broad.value = "Road Rides" ;
    }else {
        broad.value = "" ;
    }
}

function eventfly(){
    if (ffly.checked){
        ffly.value = "Fly Fishing" ;
    }else {
        ffly.value = "" ;
    }
}

function eventlake(){
    if (flake.checked){
        flake.value = "Lake Fishing" ;
    }else {
        flake.value = "" ;
    }
}

function eventocean(){
    if (focean.checked){
        focean.value = "Ocean Fishing" ;
    }else {
        focean.value = "" ;
    }
}

function eventoceansurfing(){
    if (surocean.checked){
        surocean.value = "Ocean Surfing" ;
    }else {
        surocean.value = "" ;
    }
}

function eventlakesurfing(){
    if (surlake.checked){
        surlake.value = "Lake Surfing" ;
    }else {
        surlake.value = "" ;
    }
}

function eventkitesurfing(){
    if (kitesurfing.checked){
        kitesurfing.value = "Kitesurfing" ;
    }else {
        kitesurfing.value = "" ;
    }
}

function eventmuseums(){
    if (emuseums.checked){
        emuseums.value = "Museums" ;
    }else {
        emuseums.value = "" ;
    }
}

function eventcitytours(){
    if (ecitytours.checked){
        ecitytours.value = "City Tours" ;
    }else {
        ecitytours.value = "" ;
    }
}

function eventnature(){
    if (enature.checked){
        enature.value = "Nature" ;
    }else {
        enature.value = "" ;
    }
}

function eventart(){
    if (eart.checked){
        eart.value = "Art" ;
    }else {
        eart.value = "" ;
    }
}

function eventconcerts(){
    if (econcerts.checked){
        econcerts.value = "Concerts" ;
    }else {
        econcerts.value = "" ;
    }
}

function eventlectures(){
    if (electures.checked){
        electures.value = "Lectures" ;
    }else {
        electures.value = "" ;
    }
}

var surflag = false;
function show_survey(){
    var survey = document.getElementById('surv');
    if (surflag){
       surflag = false;
       survey.style.display = 'none';
    }else {
       surflag = true;
       survey.style.display = 'block';
    }
}

var infoData = "";

var singlebox = document.getElementById("single");
var relationshipbox = document.getElementById("relationship");
var newbornbox = document.getElementById("newborn");
var kidsbox = document.getElementById("kids");
var dogsbox = document.getElementById("dogs");

function eventsingle(){
    if (singlebox.checked){
        singlebox.value = "Single" ;
    }else {
        singlebox.value = "" ;
    }
}
function eventrelationship(){
    if (relationshipbox.checked){
        relationshipbox.value = "Relationship" ;
    }else {
        relationshipbox.value = "" ;
    }
}
function eventnewborn(){
    if (newbornbox.checked){
        newbornbox.value = "Have Kids (Newborn - 5)" ;
    }else {
        newbornbox.value = "" ;
    }
}
function eventkids(){
    if (kidsbox.checked){
        kidsbox.value = "Have Kids (6+)" ;
    }else {
        kidsbox.value = "" ;
    }
}
function eventdogs(){
    if (dogsbox.checked){
        dogsbox.value = "Have Dogs" ;
    }else {
        dogsbox.value = "" ;
    }
}

</script>

{% endblock %}














